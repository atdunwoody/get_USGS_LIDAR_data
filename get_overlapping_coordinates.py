import re
from collections import defaultdict

# Define the lists of file names from Dataset 1 and Dataset 2
dataset_1 = [
    "USGS_1M_13_x38y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x38y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x38y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x39y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x39y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x39y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x39y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x40y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x40y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x40y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x40y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x40y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x41y439_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x41y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x41y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x41y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x41y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x42y438_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x42y439_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x42y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x42y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x42y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x42y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x42y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y438_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y439_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y445_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y446_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y447_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y448_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y449_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y450_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y451_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x43y452_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y438_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y439_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y445_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y446_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y447_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y448_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y449_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y450_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y451_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x44y452_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y438_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y439_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y445_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y446_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y447_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y448_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y449_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y450_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y451_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x45y452_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x46y436_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x46y437_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x46y438_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x46y439_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x46y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x46y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x46y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x46y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x46y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x46y445_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x46y446_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x47y436_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x47y437_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x47y438_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x47y439_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x47y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x47y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x47y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x47y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x47y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x47y445_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x47y446_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x48y436_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x48y437_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x48y438_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x48y439_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x48y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x48y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x48y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x48y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x48y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x48y445_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x48y446_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x49y436_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x49y437_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x49y438_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x49y439_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x49y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x49y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x49y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x49y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x49y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x49y445_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x49y446_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x50y434_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x50y435_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x50y436_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x50y437_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x50y438_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x50y439_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x50y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x50y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x50y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x50y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x50y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x50y445_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x50y446_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x51y434_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x51y435_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x51y436_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x51y437_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x51y438_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x51y439_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x51y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x51y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x51y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x51y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x51y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x51y445_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x51y446_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x52y434_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x52y435_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x52y436_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x52y437_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x52y438_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x52y439_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x52y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x52y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x52y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x52y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x52y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x53y435_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x53y436_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x53y437_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x53y438_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x53y439_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x53y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x53y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x53y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x53y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x53y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x54y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x54y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x54y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x54y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x54y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x55y440_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x55y441_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x55y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x55y443_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x55y444_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x56y442_CO_DRCOG_2020_B20.tif",
    "USGS_1M_13_x56y443_CO_DRCOG_2020_B20.tif",
]

dataset_2 = [
    "USGS_1M_13_x44y447_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x44y448_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x44y449_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x44y450_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x44y451_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x45y446_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x45y447_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x45y448_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x45y449_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x45y450_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x45y451_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x45y452_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x45y453_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x46y445_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x46y446_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x46y447_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x46y448_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x46y449_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x46y450_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x46y451_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x46y452_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x46y453_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x47y445_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x47y446_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x47y447_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x47y448_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x47y449_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x47y450_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x47y451_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x47y452_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x47y453_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x48y446_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x48y447_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x48y448_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x48y449_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x48y450_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x49y446_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x49y447_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x49y448_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x49y449_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x50y447_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x50y448_CO_CameronPeakWildfire_2021_D21.tif",
    "USGS_1M_13_x51y447_CO_CameronPeakWildfire_2021_D21.tif",
]

# Function to extract x and y coordinates from filenames
def extract_coordinates(filename):
    match = re.search(r'x(\d+)y(\d+)', filename)
    if match:
        return int(match.group(1)), int(match.group(2))
    return None

# Create a dictionary to store filenames by their coordinates
coordinate_dict = defaultdict(list)

# Process dataset 1
for filename in dataset_1:
    coordinates = extract_coordinates(filename)
    if coordinates:
        coordinate_dict[coordinates].append(filename)

# Process dataset 2
for filename in dataset_2:
    coordinates = extract_coordinates(filename)
    if coordinates:
        coordinate_dict[coordinates].append(filename)

# Find overlapping coordinates
overlapping_files = {coords: files for coords, files in coordinate_dict.items() if len(files) > 1}

# Print the overlapping files
for coords, files in overlapping_files.items():
    print(f"Coordinates {coords}:")
    # for file in files:
    #     print(f"  {file}")
